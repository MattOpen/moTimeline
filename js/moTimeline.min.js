/*!
 * moTimeline v 0.9.63
 * last update 18.02.2019
 * responsive two column timeline layout library
 * http://www.mattopen.com
 * MIT License
 * by MattOpen
 */
(function(n){window.moTimeline||(window.moTimeline={});var t=function(t){var e={framework:{bootstrap3:{gridValues:"col-xs-12 col-sm-6 col-md-6  col-lg-6",columnCount:{xs:1,sm:2,md:2,lg:2},badge:"visible-md visible-lg"},materializecss:{gridValues:"col s12 m6 l6 xl6",columnCount:{xs:1,sm:2,md:2,lg:2},badge:"hide-on-med-and-down"}}},o={framework:"materializecss",columnCount:null,col:null,gridValues:null,windowWidth:n(window).width(),badge:null},r=n.extend(!0,{},o,t),i={getColumnCount:function(n){return 12/n},initInstanceValues:function(){var n=r.framework,t=e.framework[n];r.columnCount=r.columnCount===null?t.columnCount:r.columnCount;r.badge=r.badge===null?t.badge:r.badge;r.col=r.columnCount[i.getBreakpoint()];r.lastItemIdx=0;n==="bootstrap3"&&r.gridValues===null?r.gridValues="col-xs-"+i.getColumnCount(r.columnCount.xs)+" col-sm-"+i.getColumnCount(r.columnCount.sm)+" col-md-"+i.getColumnCount(r.columnCount.md)+"  col-lg-"+i.getColumnCount(r.columnCount.lg):n==="materializecss"&&r.gridValues===null&&(r.gridValues="col s"+i.getColumnCount(r.columnCount.xs)+" m"+i.getColumnCount(r.columnCount.sm)+" l"+i.getColumnCount(r.columnCount.md)+"  xl"+i.getColumnCount(r.columnCount.lg))},getBreakpoint:function(){var t=n(window).outerWidth();return r.framework==="bootstrap3"?t<768?"xs":t>=768&&t<=992?"sm":t>992&&t<=1200?"md":"lg":r.framework==="materializecss"?t<=600?"xs":t>=601&&t<=992?"sm":t>992&&t<=1200?"md":"lg":t<=600?"xs":t>=601&&t<=992?"sm":t>992&&t<=1200?"md":"lg"},setDivider:function(t){var r=n(t),u=i.getInstanceData(t).col;return u===1?r.removeClass("twocol"):r.addClass("twocol"),u},getPosition:function(n){var t=0,i=0,r=0;return n!==0&&n&&n.length!==0&&(n=n[0],t=n.offsetTop,i=n.offsetHeight,r=i+t),{o:t,h:i,gppu:r}},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})},setIdToEveryNode:function(t,r){n(t).attr("id",function(n){var t=this.id;return val=t.length>0?t:"moT"+i.uuidv4()+"_"+(n+r)})},setPostPosition:function(t){var u=i.getLeftOrRight(t),r=n(t);u.lr>0?r.addClass("mo-inverted"):r.removeClass("mo-inverted");u.badge_offset>0?r.addClass("offset"):r.removeClass("offset")},getParentInstance:function(t){return n(t).closest(".mo-timeline")},getLeftOrRight:function(t){var u,r,f,s,w,c,l,a,v,e,h,o,y,p;return t===0||!t||t.length===0?console.log("no element"):(o=n(t),y=0,a=o.prevAll(".mo-inverted").first(),v=o.prevAll("li").not(".mo-inverted").first(),r=i.getPosition(v),f=i.getPosition(a),u=i.getPosition(o),s=u.o-r.o,w=r.gppu-u.o,c=r.gppu-f.gppu,l=f.gppu-r.gppu,p=i.getInstanceData(i.getParentInstance(t)).col,p>1&&(r.gppu>u.o+y&&(e=1),f.gppu>r.gppu&&(e=0),e>0&&(s<40&&s>=0&&(h=1),c<40&&l<40&&(h=1))),{lr:e,badge_offset:h,e:u,l:r,r:f})},debounce:function(n){var t;return function(i){t&&clearTimeout(t);t=setTimeout(n,100,i)}},resizeListener:function(){window.addEventListener("resize",i.debounce(function(){n(window).width()!==r.windowWidth&&(r.windowWidth=n(window).width(),moTimeline.refresh())}))},initImagesLoaded:function(t){var i=t,r=i.children();typeof imagesLoaded!="undefined"&&n.isFunction(imagesLoaded)?n(r).imagesLoaded().done(function(){console.log("all images successfully loaded");u(i)}):setTimeout(function(){u(i)},1e3)},getInstanceData:function(t){return n(t).data().moTimelineData},createBadge:function(t,r){var u=i.getInstanceData(i.getParentInstance(t)).badge,f='<span class="js-badge-mo badge-mo '+u+'">'+r+"<\/span>";n(t).prepend(f)},createBadgeArrow:function(t){var u=i.getInstanceData(i.getParentInstance(t)).badge,r='<span class="js-badge-arrow badge-arrow '+u+'">&nbsp;<\/span>';return n(t).prepend(r),r}},u=function(){var t=n(moTimeline.instances);n.each(t,function(t,r){var u=r.children;n(r).data().moTimelineData.col=n(r).data().moTimelineData.columnCount[i.getBreakpoint()];i.setDivider(r);n.each(u,function(n,t){i.setPostPosition(t)})})},s=function(t){var e=t;n.each(e,function(t,e){var o,s,h;if(typeof window.moTimeline.instances=="undefined"&&(window.moTimeline.instances=[]),o=n(e),s=o[0],n(s).data().moTimelineData){console.log("instance already there");u();return}if(i.initInstanceValues(),moTimeline.instances.push.apply(moTimeline.instances,o),n(o).data("moTimelineData",r),h=s.children,s.className!=="mo-timeline"&&s.classList.add("mo-timeline"),!h||h.length===0){console.log("sorry, no data...");return}f(o)})},f=function(t){var e=n(t),r=e.data().moTimelineData.lastItemIdx,o=0,f=n.grep(e.children(),function(n,t){return t>=r});f.length!==0&&(i.setIdToEveryNode(f,r),i.resizeListener(),i.initImagesLoaded(e),n(f).removeClass().addClass(i.getInstanceData(t).gridValues+" moitem"),i.setDivider(t),n.each(f,function(n,t){n=n+1;i.createBadge(t,n+r);i.createBadgeArrow(t);o=n}),n(t).data().moTimelineData.lastItemIdx=o+r,u(t))},h=function(){var t=n(moTimeline.instances);n.each(t,function(n,t){f(t)})};return{init:s,refresh:u,initNewItems:h}};n.fn.moTimeline=function(i){var r=this;n.type(i)!=="object"&&(i={});n.extend(!0,window.moTimeline,t());t(i).init(r)}})(jQuery);